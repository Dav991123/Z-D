{"ast":null,"code":"import _objectSpread from \"/Users/davit/Desktop/AAA/Z-D/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/davit/Desktop/AAA/Z-D/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect } from 'react';\nexport var useForm = function useForm(initialState, validateData) {\n  var copyInitialState = Object.assign({}, initialState);\n  Object.keys(initialState).forEach(function (key) {\n    copyInitialState[key] = null;\n  });\n  var copyIsValidState = Object.assign({}, validateData);\n  Object.keys(validateData).forEach(function (key) {\n    if (validateData.hasOwnProperty(key)) copyIsValidState[key] = false;\n  });\n\n  var _useState = useState(initialState),\n      _useState2 = _slicedToArray(_useState, 2),\n      values = _useState2[0],\n      setValues = _useState2[1];\n\n  var _useState3 = useState(copyInitialState),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errors = _useState4[0],\n      setErrors = _useState4[1];\n\n  var _useState5 = useState(copyIsValidState),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isEnabledData = _useState6[0],\n      setIsEnabledData = _useState6[1];\n\n  var _useState7 = useState(true),\n      _useState8 = _slicedToArray(_useState7, 2),\n      isEnable = _useState8[0],\n      setIsEnable = _useState8[1];\n\n  useEffect(function () {\n    var isValidKeys = Object.values(isEnabledData);\n\n    if (isValidKeys.indexOf(false) !== -1) {\n      setIsEnable(true);\n    } else {\n      setIsEnable(false);\n    }\n  }, [isEnabledData, values]);\n\n  var handleOutsideClick = function handleOutsideClick(e) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value;\n\n    if (value === '') {\n      if (validateData.hasOwnProperty(name)) {\n        setErrors(_objectSpread(_objectSpread({}, errors), {}, {\n          [name]: validateData[name].requiredMessage\n        }));\n        setIsEnabledData(_objectSpread(_objectSpread({}, isEnabledData), {}, {\n          [name]: false\n        }));\n      }\n\n      return;\n    } else {\n      setIsEnabledData(_objectSpread(_objectSpread({}, isEnabledData), {}, {\n        [name]: true\n      }));\n    }\n\n    if (validateData[name].hasOwnProperty('regExp')) {\n      if (!validateData[name].regExp.test(value)) {\n        setErrors(_objectSpread(_objectSpread({}, errors), {}, {\n          [name]: validateData[name].warningMessage\n        }));\n        setIsEnabledData(_objectSpread(_objectSpread({}, isEnabledData), {}, {\n          [name]: false\n        }));\n      }\n\n      return;\n    } else {\n      setIsEnabledData(_objectSpread(_objectSpread({}, isEnabledData), {}, {\n        [name]: true\n      }));\n    }\n  };\n\n  var onFocus = function onFocus(e) {\n    var name = e.target.name;\n    setErrors(_objectSpread(_objectSpread({}, errors), {}, {\n      [name]: ''\n    }));\n  };\n\n  var handleChange = function handleChange(e) {\n    var _e$target2 = e.target,\n        name = _e$target2.name,\n        value = _e$target2.value;\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      [name]: value\n    }));\n\n    if (value === '') {\n      if (validateData.hasOwnProperty(name)) {\n        setErrors(_objectSpread(_objectSpread({}, errors), {}, {\n          [name]: validateData[name].requiredMessage\n        }));\n        setIsEnabledData(_objectSpread(_objectSpread({}, isEnabledData), {}, {\n          [name]: false\n        }));\n        return;\n      }\n    } else {\n      setIsEnabledData(_objectSpread(_objectSpread({}, isEnabledData), {}, {\n        [name]: true\n      }));\n      setErrors(_objectSpread(_objectSpread({}, errors), {}, {\n        [name]: ''\n      }));\n    }\n\n    if (validateData[name]) {\n      if (validateData[name].hasOwnProperty('regExp')) {\n        if (!validateData[name].regExp.test(value)) {\n          setErrors(_objectSpread(_objectSpread({}, errors), {}, {\n            [name]: validateData[name].warningMessage\n          }));\n          setIsEnabledData(_objectSpread(_objectSpread({}, isEnabledData), {}, {\n            [name]: false\n          }));\n        } else {\n          setErrors(_objectSpread(_objectSpread({}, errors), {}, {\n            [name]: ''\n          }));\n        }\n\n        return;\n      } else {\n        setIsEnabledData(_objectSpread(_objectSpread({}, isEnabledData), {}, {\n          [name]: true\n        }));\n      }\n    }\n  };\n\n  return {\n    errors,\n    values,\n    onFocus,\n    isEnable,\n    setValues,\n    handleChange,\n    handleOutsideClick\n  };\n};","map":{"version":3,"sources":["/Users/davit/Desktop/AAA/Z-D/src/Hooks/useForm.js"],"names":["useState","useEffect","useForm","initialState","validateData","copyInitialState","Object","assign","keys","forEach","key","copyIsValidState","hasOwnProperty","values","setValues","errors","setErrors","isEnabledData","setIsEnabledData","isEnable","setIsEnable","isValidKeys","indexOf","handleOutsideClick","e","target","name","value","requiredMessage","regExp","test","warningMessage","onFocus","handleChange"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,YAAD,EAAeC,YAAf,EAAgC;AACnD,MAAMC,gBAAgB,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBJ,YAAlB,CAAzB;AACAG,EAAAA,MAAM,CAACE,IAAP,CAAYL,YAAZ,EAA0BM,OAA1B,CAAkC,UAACC,GAAD,EAAS;AACzCL,IAAAA,gBAAgB,CAACK,GAAD,CAAhB,GAAwB,IAAxB;AACD,GAFD;AAIA,MAAMC,gBAAgB,GAAGL,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBH,YAAlB,CAAzB;AACAE,EAAAA,MAAM,CAACE,IAAP,CAAYJ,YAAZ,EAA0BK,OAA1B,CAAkC,UAACC,GAAD,EAAS;AACvC,QAAGN,YAAY,CAACQ,cAAb,CAA4BF,GAA5B,CAAH,EAAqCC,gBAAgB,CAACD,GAAD,CAAhB,GAAwB,KAAxB;AACxC,GAFD;;AAPmD,kBAWvBV,QAAQ,CAACG,YAAD,CAXe;AAAA;AAAA,MAW5CU,MAX4C;AAAA,MAWpCC,SAXoC;;AAAA,mBAYvBd,QAAQ,CAACK,gBAAD,CAZe;AAAA;AAAA,MAY5CU,MAZ4C;AAAA,MAYpCC,SAZoC;;AAAA,mBAaThB,QAAQ,CAACW,gBAAD,CAbC;AAAA;AAAA,MAa5CM,aAb4C;AAAA,MAa7BC,gBAb6B;;AAAA,mBAcnBlB,QAAQ,CAAC,IAAD,CAdW;AAAA;AAAA,MAc5CmB,QAd4C;AAAA,MAclCC,WAdkC;;AAgBnDnB,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAMoB,WAAW,GAAGf,MAAM,CAACO,MAAP,CAAcI,aAAd,CAApB;;AACA,QAAGI,WAAW,CAACC,OAAZ,CAAoB,KAApB,MAA+B,CAAC,CAAnC,EAAsC;AAClCF,MAAAA,WAAW,CAAC,IAAD,CAAX;AACH,KAFD,MAEM;AACFA,MAAAA,WAAW,CAAC,KAAD,CAAX;AACH;AAEJ,GARQ,EAQN,CAACH,aAAD,EAAgBJ,MAAhB,CARM,CAAT;;AASA,MAAMU,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,CAAC,EAAI;AAAA,oBACJA,CAAC,CAACC,MADE;AAAA,QACpBC,IADoB,aACpBA,IADoB;AAAA,QACdC,KADc,aACdA,KADc;;AAE5B,QAAGA,KAAK,KAAK,EAAb,EAAiB;AACb,UAAGvB,YAAY,CAACQ,cAAb,CAA4Bc,IAA5B,CAAH,EAAsC;AAClCV,QAAAA,SAAS,iCACFD,MADE;AAEL,WAACW,IAAD,GAAStB,YAAY,CAACsB,IAAD,CAAZ,CAAmBE;AAFvB,WAAT;AAIAV,QAAAA,gBAAgB,iCACTD,aADS;AAEZ,WAACS,IAAD,GAAQ;AAFI,WAAhB;AAIH;;AAED;AACH,KAbD,MAaM;AACFR,MAAAA,gBAAgB,iCACTD,aADS;AAEZ,SAACS,IAAD,GAAQ;AAFI,SAAhB;AAIH;;AACD,QAAGtB,YAAY,CAACsB,IAAD,CAAZ,CAAmBd,cAAnB,CAAkC,QAAlC,CAAH,EAAgD;AAC5C,UAAG,CAACR,YAAY,CAACsB,IAAD,CAAZ,CAAmBG,MAAnB,CAA0BC,IAA1B,CAA+BH,KAA/B,CAAJ,EAA2C;AACvCX,QAAAA,SAAS,iCACFD,MADE;AAEL,WAACW,IAAD,GAAStB,YAAY,CAACsB,IAAD,CAAZ,CAAmBK;AAFvB,WAAT;AAIAb,QAAAA,gBAAgB,iCACTD,aADS;AAEZ,WAACS,IAAD,GAAQ;AAFI,WAAhB;AAIH;;AACD;AACH,KAZD,MAYM;AACFR,MAAAA,gBAAgB,iCACTD,aADS;AAEZ,SAACS,IAAD,GAAQ;AAFI,SAAhB;AAIH;AACJ,GAvCD;;AAwCA,MAAMM,OAAO,GAAG,SAAVA,OAAU,CAAAR,CAAC,EAAI;AAAA,QACTE,IADS,GACAF,CAAC,CAACC,MADF,CACTC,IADS;AAEjBV,IAAAA,SAAS,iCACFD,MADE;AAEL,OAACW,IAAD,GAAQ;AAFH,OAAT;AAIH,GAND;;AASA,MAAMO,YAAY,GAAG,SAAfA,YAAe,CAAAT,CAAC,EAAI;AAAA,qBACEA,CAAC,CAACC,MADJ;AAAA,QACdC,IADc,cACdA,IADc;AAAA,QACRC,KADQ,cACRA,KADQ;AAEtBb,IAAAA,SAAS,iCACFD,MADE;AAEL,OAACa,IAAD,GAAQC;AAFH,OAAT;;AAKA,QAAGA,KAAK,KAAK,EAAb,EAAiB;AACb,UAAGvB,YAAY,CAACQ,cAAb,CAA4Bc,IAA5B,CAAH,EAAsC;AAClCV,QAAAA,SAAS,iCACFD,MADE;AAEL,WAACW,IAAD,GAAStB,YAAY,CAACsB,IAAD,CAAZ,CAAmBE;AAFvB,WAAT;AAIAV,QAAAA,gBAAgB,iCACTD,aADS;AAEZ,WAACS,IAAD,GAAQ;AAFI,WAAhB;AAIA;AACH;AACJ,KAZD,MAYM;AACFR,MAAAA,gBAAgB,iCACTD,aADS;AAEZ,SAACS,IAAD,GAAQ;AAFI,SAAhB;AAIAV,MAAAA,SAAS,iCACFD,MADE;AAEL,SAACW,IAAD,GAAS;AAFJ,SAAT;AAIH;;AACD,QAAGtB,YAAY,CAACsB,IAAD,CAAf,EAAuB;AACnB,UAAGtB,YAAY,CAACsB,IAAD,CAAZ,CAAmBd,cAAnB,CAAkC,QAAlC,CAAH,EAAgD;AAC5C,YAAG,CAACR,YAAY,CAACsB,IAAD,CAAZ,CAAmBG,MAAnB,CAA0BC,IAA1B,CAA+BH,KAA/B,CAAJ,EAA2C;AACvCX,UAAAA,SAAS,iCACFD,MADE;AAEL,aAACW,IAAD,GAAStB,YAAY,CAACsB,IAAD,CAAZ,CAAmBK;AAFvB,aAAT;AAIAb,UAAAA,gBAAgB,iCACTD,aADS;AAEZ,aAACS,IAAD,GAAQ;AAFI,aAAhB;AAIH,SATD,MASM;AACFV,UAAAA,SAAS,iCACFD,MADE;AAEL,aAACW,IAAD,GAAS;AAFJ,aAAT;AAIH;;AACD;AACH,OAjBD,MAiBM;AACFR,QAAAA,gBAAgB,iCACTD,aADS;AAEZ,WAACS,IAAD,GAAQ;AAFI,WAAhB;AAKH;AACJ;AACJ,GAvDD;;AAyDA,SAAO;AACHX,IAAAA,MADG;AAEHF,IAAAA,MAFG;AAGHmB,IAAAA,OAHG;AAIHb,IAAAA,QAJG;AAKHL,IAAAA,SALG;AAMHmB,IAAAA,YANG;AAOHV,IAAAA;AAPG,GAAP;AASH,CA5IM","sourcesContent":["import { useState, useEffect } from 'react';\n\nexport const useForm = (initialState, validateData) => {\n    const copyInitialState = Object.assign({}, initialState);\n    Object.keys(initialState).forEach((key) => {\n      copyInitialState[key] = null\n    });\n\n    const copyIsValidState = Object.assign({}, validateData);\n    Object.keys(validateData).forEach((key) => {\n        if(validateData.hasOwnProperty(key)) copyIsValidState[key] = false\n    });\n\n    const [values, setValues] = useState(initialState);\n    const [errors, setErrors] = useState(copyInitialState);\n    const [isEnabledData, setIsEnabledData] = useState(copyIsValidState);\n    const [isEnable, setIsEnable] = useState(true);\n\n    useEffect(() => {\n        const isValidKeys = Object.values(isEnabledData);\n        if(isValidKeys.indexOf(false) !== -1) {\n            setIsEnable(true)\n        }else {\n            setIsEnable(false)\n        }\n\n    }, [isEnabledData, values]);\n    const handleOutsideClick = e => {\n        const { name, value } = e.target;\n        if(value === '') {\n            if(validateData.hasOwnProperty(name)) {\n                setErrors({\n                    ...errors,\n                    [name] : validateData[name].requiredMessage\n                })\n                setIsEnabledData({\n                    ...isEnabledData,\n                    [name]: false\n                })\n            }\n\n            return\n        }else {\n            setIsEnabledData({\n                ...isEnabledData,\n                [name]: true\n            })\n        }\n        if(validateData[name].hasOwnProperty('regExp')) {\n            if(!validateData[name].regExp.test(value)) {\n                setErrors({\n                    ...errors,\n                    [name] : validateData[name].warningMessage\n                })\n                setIsEnabledData({\n                    ...isEnabledData,\n                    [name]: false\n                })\n            }\n            return\n        }else {\n            setIsEnabledData({\n                ...isEnabledData,\n                [name]: true\n            })\n        }\n    };\n    const onFocus = e => {\n        const { name } = e.target;\n        setErrors({\n            ...errors,\n            [name]: ''\n        })\n    };\n\n\n    const handleChange = e => {\n        const { name, value } = e.target;\n        setValues({\n            ...values,\n            [name]: value\n        })\n\n        if(value === '') {\n            if(validateData.hasOwnProperty(name)) {\n                setErrors({\n                    ...errors,\n                    [name] : validateData[name].requiredMessage\n                })\n                setIsEnabledData({\n                    ...isEnabledData,\n                    [name]: false\n                })\n                return\n            }\n        }else {\n            setIsEnabledData({\n                ...isEnabledData,\n                [name]: true\n            })\n            setErrors({\n                ...errors,\n                [name] : ''\n            })\n        }\n        if(validateData[name]) {\n            if(validateData[name].hasOwnProperty('regExp')) {\n                if(!validateData[name].regExp.test(value)) {\n                    setErrors({\n                        ...errors,\n                        [name] : validateData[name].warningMessage\n                    })\n                    setIsEnabledData({\n                        ...isEnabledData,\n                        [name]: false\n                    })\n                }else {\n                    setErrors({\n                        ...errors,\n                        [name] : ''\n                    })\n                }\n                return\n            }else {\n                setIsEnabledData({\n                    ...isEnabledData,\n                    [name]: true\n                })\n             \n            }\n        }\n    }\n\n    return {\n        errors,\n        values,\n        onFocus,\n        isEnable,\n        setValues,\n        handleChange,\n        handleOutsideClick\n    }\n}"]},"metadata":{},"sourceType":"module"}