{"ast":null,"code":"import _objectWithoutProperties from \"/Users/davit/Desktop/AAA/Z-D/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"/Users/davit/Desktop/AAA/Z-D/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/davit/Desktop/AAA/Z-D/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/davit/Desktop/AAA/Z-D/src/views/tables/ExtendedTables.js\";\n\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { BreadcrumbItem, Button, Card, CardHeader, CardBody, CardTitle, Pagination, Table, Row, Col, UncontrolledTooltip, Label, FormGroup, Input, Form } from \"reactstrap\";\nimport Select from \"react-select\";\nimport { withRouter } from 'react-router-dom';\nimport EditModal from \"../components/EditModal\";\nimport AddModal from \"../components/AddModal\";\nimport { useHistory } from 'react-router-dom';\nimport ReactBSAlert from \"react-bootstrap-sweetalert\";\nimport useFetch from \"../../core/useFetch\";\nimport useQuery from '../../Hooks/useQuery';\nimport { combineQuery, parseQuery } from \"../../core/queryHelper\";\nimport './table.scss'; //see\n\nvar ExtendedTables = function ExtendedTables(props) {\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedRow = _useState2[0],\n      setSelectedRow = _useState2[1];\n\n  var _useState3 = useState('firstAttachedPerson'),\n      _useState4 = _slicedToArray(_useState3, 2),\n      selectedUserType = _useState4[0],\n      setSelectedUserType = _useState4[1];\n\n  var _useState5 = useState({\n    editModal: false,\n    addModal: false\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      modalShow = _useState6[0],\n      setModalShow = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      alert = _useState8[0],\n      setAlert = _useState8[1];\n\n  var _useState9 = useState({\n    loading: false,\n    data: {}\n  }),\n      _useState10 = _slicedToArray(_useState9, 2),\n      tableData = _useState10[0],\n      setTableData = _useState10[1];\n\n  var history = useHistory();\n\n  var _useFetch = useFetch(\"card\"),\n      get = _useFetch.get;\n\n  var _useQuery = useQuery(),\n      queryObject = _useQuery.queryObject,\n      query = _useQuery.query;\n\n  var _useState11 = useState(+queryObject.page),\n      _useState12 = _slicedToArray(_useState11, 2),\n      page = _useState12[0],\n      setPage = _useState12[1];\n\n  var handleChangePageSize = useCallback(function (value) {\n    history.push(combineQuery(_objectSpread(_objectSpread({}, parseQuery(window.location.search)), {}, {\n      size: value,\n      page: queryObject.page\n    })));\n  }, [history]);\n  var handleChangePagination = useCallback(function (value) {\n    var nextPage = page;\n    nextPage = value === 'next' ? nextPage + 1 : nextPage - 1;\n    setPage(nextPage);\n    history.push(combineQuery(_objectSpread(_objectSpread({}, parseQuery(window.location.search)), {}, {\n      page: nextPage,\n      size: queryObject.size\n    })));\n  }, [query]);\n  var handleGetCardData = useCallback(function () {\n    setTableData(_objectSpread(_objectSpread({}, tableData), {}, {\n      loading: true\n    }));\n    get(query).then(function (data) {\n      setTableData({\n        loading: false,\n        data\n      });\n    });\n  });\n  useEffect(function () {\n    setPage(+queryObject.page);\n    handleGetCardData();\n  }, [query]);\n  var data = tableData.data,\n      cardLoading = tableData.loading;\n  var _data$content = data.content,\n      content = _data$content === void 0 ? [] : _data$content;\n\n  var handleIsOpenModal = function handleIsOpenModal(modalType) {\n    setModalShow(function (prevData) {\n      return _objectSpread(_objectSpread({}, prevData), {}, {\n        [modalType]: !prevData[modalType]\n      });\n    });\n  };\n\n  var hideAlert = function hideAlert() {\n    setAlert(null);\n  };\n\n  var openRemoveConfirmModal = function openRemoveConfirmModal() {\n    setAlert( /*#__PURE__*/React.createElement(ReactBSAlert, {\n      warning: true,\n      style: {\n        display: \"block\",\n        marginTop: \"-100px\"\n      },\n      title: \"Are you sure?\",\n      onConfirm: function onConfirm() {\n        return successDelete();\n      },\n      onCancel: function onCancel() {\n        return cancelDelete();\n      },\n      confirmBtnBsStyle: \"success\",\n      cancelBtnBsStyle: \"danger\",\n      confirmBtnText: \"Yes, delete it!\",\n      cancelBtnText: \"Cancel\",\n      showCancel: true,\n      btnSize: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 7\n      }\n    }, \"You will not be able to recover this imaginary file!\"));\n  };\n\n  var successDelete = function successDelete() {\n    setAlert( /*#__PURE__*/React.createElement(ReactBSAlert, {\n      success: true,\n      style: {\n        display: \"block\",\n        marginTop: \"-100px\"\n      },\n      title: \"Deleted!\",\n      onConfirm: function onConfirm() {\n        return hideAlert();\n      },\n      onCancel: function onCancel() {\n        return hideAlert();\n      },\n      confirmBtnBsStyle: \"success\",\n      btnSize: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 7\n      }\n    }, \"Your imaginary file has been deleted.\"));\n  };\n\n  var cancelDelete = function cancelDelete() {\n    setAlert( /*#__PURE__*/React.createElement(ReactBSAlert, {\n      danger: true,\n      style: {\n        display: \"block\",\n        marginTop: \"-100px\"\n      },\n      title: \"Cancelled\",\n      onConfirm: function onConfirm() {\n        return hideAlert();\n      },\n      onCancel: function onCancel() {\n        return hideAlert();\n      },\n      confirmBtnBsStyle: \"success\",\n      btnSize: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 7\n      }\n    }, \"Your imaginary file is safe :)\"));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }\n  }, alert, /*#__PURE__*/React.createElement(EditModal, {\n    selectedRow: selectedRow,\n    show: modalShow.editModal,\n    onHide: function onHide() {\n      return handleIsOpenModal('editModal');\n    },\n    onRefreshPage: handleGetCardData,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(AddModal, {\n    show: modalShow.addModal,\n    onRefreshPage: handleGetCardData,\n    onHide: function onHide() {\n      return handleIsOpenModal('addModal');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ol\", {\n    className: \"breadcrumb bg-transparent ml-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(BreadcrumbItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: 'add-card-button-content',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    outline: true,\n    color: \"success\",\n    id: \"tooltip967556665\",\n    onClick: function onClick() {\n      return handleIsOpenModal('addModal');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 17\n    }\n  }, \"ADD CARD\"), /*#__PURE__*/React.createElement(UncontrolledTooltip, {\n    delay: 0,\n    target: \"tooltip967556665\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }\n  }, \"ADD CARD\")))), /*#__PURE__*/React.createElement(Col, {\n    md: \"12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CardTitle, {\n    tag: \"h2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 17\n    }\n  }, \"Card\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CardTitle, {\n    tag: \"h4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 19\n    }\n  }, \"To See\"), /*#__PURE__*/React.createElement(Form, {\n    onChange: function onChange(e) {\n      setSelectedUserType(e.target.name);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: \"10\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    check: true,\n    inline: true,\n    className: \"form-check-radio\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    check: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    defaultValue: \"option1\",\n    id: \"exampleRadios3\",\n    name: \"firstAttachedPerson\",\n    type: \"radio\",\n    checked: selectedUserType === 'firstAttachedPerson',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"form-check-sign\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 27\n    }\n  }), \"First Attached Person\")), /*#__PURE__*/React.createElement(FormGroup, {\n    check: true,\n    inline: true,\n    className: \"form-check-radio\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    check: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    defaultValue: \"option1\",\n    id: \"exampleRadios3\",\n    name: \"owner\",\n    type: \"radio\",\n    checked: selectedUserType === 'owner',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"form-check-sign\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 27\n    }\n  }), \"Owner\")), /*#__PURE__*/React.createElement(FormGroup, {\n    check: true,\n    inline: true,\n    className: \"form-check-radio\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    check: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    defaultValue: \"option1\",\n    id: \"exampleRadios3\",\n    name: \"secondAttachedPerson\",\n    type: \"radio\",\n    checked: selectedUserType === 'secondAttachedPerson',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"form-check-sign\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 27\n    }\n  }), \"Second Attached Person\"))))))), cardLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 17\n    }\n  }, \"Loading...\") : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"text-primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 27\n    }\n  }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 27\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 27\n    }\n  }, \"SURNAME\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"text-left\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 27\n    }\n  }, \"CARD TYPE\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"text-left\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 27\n    }\n  }, \"PIN\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"text-left\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 27\n    }\n  }, \"EMAIL\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"text-left\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 27\n    }\n  }, \"CREATION DATE\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"text-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 27\n    }\n  }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 23\n    }\n  }, content.map(function (_ref) {\n    var pin = _ref.pin,\n        code = _ref.code,\n        creationDate = _ref.creationDate,\n        userData = _objectWithoutProperties(_ref, [\"pin\", \"code\", \"creationDate\"]);\n\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      style: {\n        cursor: \"pointer\"\n      },\n      className: \"btn-round\",\n      onClick: function onClick(e) {\n        props.history.push(\"/admin/detail/?cardId=\".concat(pin));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"text-center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"photo\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 35\n      }\n    }, userData[selectedUserType].id)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 33\n      }\n    }, userData[selectedUserType].name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 33\n      }\n    }, userData[selectedUserType].surname), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 33\n      }\n    }, code.type), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 33\n      }\n    }, code.pin), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 33\n      }\n    }, new Date(creationDate).toDateString()), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 33\n      }\n    }, userData[selectedUserType].email), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"text-right\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"btn-link btn-icon btn-neutral\",\n      color: \"success\",\n      id: \"tooltip967557276\",\n      size: \"sm\",\n      onClick: function onClick(row) {\n        row.stopPropagation();\n        var owner = userData.owner,\n            firstAttachedPerson = userData.firstAttachedPerson,\n            secondAttachedPerson = userData.secondAttachedPerson;\n        setSelectedRow({\n          owner,\n          firstAttachedPerson,\n          secondAttachedPerson,\n          pin: code.pin\n        });\n        handleIsOpenModal('editModal');\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"tim-icons icon-pencil\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(UncontrolledTooltip, {\n      delay: 0,\n      target: \"tooltip967557276\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 35\n      }\n    }, \"Edit Card\")));\n  }))))), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"info\",\n    size: \"sm\",\n    disabled: page === 1,\n    onClick: function onClick(e) {\n      handleChangePagination('prev');\n      e.preventDefault();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 28\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    \"aria-hidden\": true,\n    className: \"tim-icons icon-double-left\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 27\n    }\n  }))), /*#__PURE__*/React.createElement(\"span\", {\n    className: 'pagination-info',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 21\n    }\n  }, \"page \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 28\n    }\n  }, \" \", page, \" \"), \"  of \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 48\n    }\n  }, \" \", data.total_pages, \" \")), /*#__PURE__*/React.createElement(Button, {\n    color: \"info\",\n    size: \"sm\",\n    disabled: page === data.total_pages,\n    onClick: function onClick(e) {\n      handleChangePagination('next');\n      e.preventDefault();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    \"aria-hidden\": true,\n    className: \"tim-icons icon-double-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 27\n    }\n  }))))), /*#__PURE__*/React.createElement(Col, {\n    lg: \"2\",\n    md: \"3\",\n    sm: \"3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    className: \"react-select info mr-2\",\n    classNamePrefix: \"react-select\",\n    name: \"singleSelect\",\n    onChange: function onChange(data) {\n      handleChangePageSize(data.value);\n    },\n    options: [{\n      value: \"\",\n      label: \"Select Table\",\n      isDisabled: true\n    }, {\n      value: \"5\",\n      label: \"5\"\n    }, {\n      value: \"10\",\n      label: \"10\"\n    }, {\n      value: \"25\",\n      label: \"25\"\n    }, {\n      value: \"50\",\n      label: \"50\"\n    }],\n    placeholder: \"Single Select\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 19\n    }\n  }))))))));\n};\n\nexport default withRouter(ExtendedTables);","map":{"version":3,"sources":["/Users/davit/Desktop/AAA/Z-D/src/views/tables/ExtendedTables.js"],"names":["React","useCallback","useEffect","useState","BreadcrumbItem","Button","Card","CardHeader","CardBody","CardTitle","Pagination","Table","Row","Col","UncontrolledTooltip","Label","FormGroup","Input","Form","Select","withRouter","EditModal","AddModal","useHistory","ReactBSAlert","useFetch","useQuery","combineQuery","parseQuery","ExtendedTables","props","selectedRow","setSelectedRow","selectedUserType","setSelectedUserType","editModal","addModal","modalShow","setModalShow","alert","setAlert","loading","data","tableData","setTableData","history","get","queryObject","query","page","setPage","handleChangePageSize","value","push","window","location","search","size","handleChangePagination","nextPage","handleGetCardData","then","cardLoading","content","handleIsOpenModal","modalType","prevData","hideAlert","openRemoveConfirmModal","display","marginTop","successDelete","cancelDelete","e","target","name","map","pin","code","creationDate","userData","cursor","id","surname","type","Date","toDateString","email","row","stopPropagation","owner","firstAttachedPerson","secondAttachedPerson","preventDefault","total_pages","label","isDisabled"],"mappings":"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","sourcesContent":["import React, {useCallback, useEffect, useState} from \"react\";\n\nimport {\n  BreadcrumbItem,\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  CardTitle,\n  Pagination,\n  Table,\n  Row,\n  Col,\n  UncontrolledTooltip, Label, FormGroup, Input, Form,\n} from \"reactstrap\";\nimport Select from \"react-select\";\nimport { withRouter } from 'react-router-dom';\nimport EditModal from \"../components/EditModal\";\nimport AddModal from \"../components/AddModal\";\nimport { useHistory } from 'react-router-dom';\nimport ReactBSAlert from \"react-bootstrap-sweetalert\";\nimport useFetch from \"../../core/useFetch\";\nimport useQuery from '../../Hooks/useQuery';\nimport {combineQuery, parseQuery} from \"../../core/queryHelper\";\nimport './table.scss';\n\n//see\nconst ExtendedTables = (props) => {\n  const [selectedRow, setSelectedRow] = useState({});\n  const [selectedUserType, setSelectedUserType] = useState('firstAttachedPerson')\n  const [modalShow, setModalShow] = useState({\n    editModal: false,\n    addModal: false\n  });\n  const [alert, setAlert] = useState(null);\n  const [tableData, setTableData] = useState({\n    loading: false,\n    data: {},\n  });\n\n  const history = useHistory();\n\n  const { get } = useFetch(\"card\");\n\n  const { queryObject, query } = useQuery();\n\n  const [page, setPage] = useState(+queryObject.page);\n\n  const handleChangePageSize = useCallback((value) => {\n    history.push(combineQuery({...parseQuery(window.location.search), size: value, page: queryObject.page }))\n  }, [history])\n\n  const handleChangePagination = useCallback(value => {\n    let nextPage = page;\n    nextPage = value === 'next' ? nextPage + 1 : nextPage -1;\n    setPage(nextPage)\n    history.push(combineQuery({...parseQuery(window.location.search), page: nextPage, size: queryObject.size}))\n  }, [query]);\n\n  const handleGetCardData = useCallback(() => {\n    setTableData({\n      ...tableData,\n      loading: true,\n    });\n\n    get(query).then(\n        (data) => {\n          setTableData({\n            loading: false,\n            data,\n          });\n        }\n    );\n  });\n\n  useEffect(() => {\n    setPage(+queryObject.page)\n    handleGetCardData()\n  }, [query]);\n\n  const { data, loading: cardLoading } = tableData;\n  const { content = [] } = data;\n\n  const handleIsOpenModal = (modalType) => {\n    setModalShow((prevData) => ({\n        ...prevData,\n      [modalType]: !prevData[modalType]\n    }));\n  };\n  const hideAlert = () => {\n    setAlert(null);\n  };\n\n\n  const openRemoveConfirmModal = () => {\n    setAlert(\n      <ReactBSAlert\n        warning\n        style={{ display: \"block\", marginTop: \"-100px\" }}\n        title=\"Are you sure?\"\n        onConfirm={() => successDelete()}\n        onCancel={() => cancelDelete()}\n        confirmBtnBsStyle=\"success\"\n        cancelBtnBsStyle=\"danger\"\n        confirmBtnText=\"Yes, delete it!\"\n        cancelBtnText=\"Cancel\"\n        showCancel\n        btnSize=\"\"\n      >\n        You will not be able to recover this imaginary file!\n      </ReactBSAlert>\n    );\n  };\n  const successDelete = () => {\n    setAlert(\n      <ReactBSAlert\n        success\n        style={{ display: \"block\", marginTop: \"-100px\" }}\n        title=\"Deleted!\"\n        onConfirm={() => hideAlert()}\n        onCancel={() => hideAlert()}\n        confirmBtnBsStyle=\"success\"\n        btnSize=\"\"\n      >\n        Your imaginary file has been deleted.\n      </ReactBSAlert>\n    );\n  };\n\n  const cancelDelete = () => {\n    setAlert(\n      <ReactBSAlert\n        danger\n        style={{ display: \"block\", marginTop: \"-100px\" }}\n        title=\"Cancelled\"\n        onConfirm={() => hideAlert()}\n        onCancel={() => hideAlert()}\n        confirmBtnBsStyle=\"success\"\n        btnSize=\"\"\n      >\n        Your imaginary file is safe :)\n      </ReactBSAlert>\n    );\n  };\n\n\n  return (\n    <>\n      <div className=\"content\">\n        {alert}\n        <EditModal\n            selectedRow={selectedRow}\n            show={modalShow.editModal}\n            onHide={() => handleIsOpenModal('editModal')}\n            onRefreshPage={handleGetCardData}\n        />\n        <AddModal\n            show={modalShow.addModal}\n            onRefreshPage={handleGetCardData}\n            onHide={() => handleIsOpenModal('addModal')}\n        />\n        <Row>\n          <ol className=\"breadcrumb bg-transparent ml-3\">\n            <BreadcrumbItem>\n              <div className={'add-card-button-content'}>\n                <Button\n                    outline\n                    color=\"success\"\n                    id=\"tooltip967556665\"\n                    onClick={() => handleIsOpenModal('addModal')}\n                >\n                  ADD CARD\n                </Button>\n\n                <UncontrolledTooltip\n                    delay={0}\n                    target=\"tooltip967556665\"\n                >\n                  ADD CARD\n                </UncontrolledTooltip>\n\n              </div>\n\n            </BreadcrumbItem>\n          </ol>\n          <Col md=\"12\">\n            <Card>\n              <CardHeader>\n                <CardTitle tag=\"h2\">Card</CardTitle>\n\n                <div>\n                  <CardTitle tag=\"h4\">To See</CardTitle>\n                  <Form onChange={(e) => {\n                    setSelectedUserType(e.target.name)\n                  }}>\n                  <Row>\n                    {/*<Label sm=\"2\">Inline checkboxes</Label>*/}\n                    <Col sm=\"10\">\n                      <FormGroup check inline className=\"form-check-radio\">\n                        <Label check>\n                          <Input\n                              defaultValue=\"option1\"\n                              id=\"exampleRadios3\"\n                              name=\"firstAttachedPerson\"\n                              type=\"radio\"\n                              checked={selectedUserType === 'firstAttachedPerson'}\n                          />\n                          <span className=\"form-check-sign\" />\n                          First Attached Person\n                        </Label>\n                      </FormGroup>\n\n                      <FormGroup check inline className=\"form-check-radio\">\n                        <Label check>\n                          <Input\n                              defaultValue=\"option1\"\n                              id=\"exampleRadios3\"\n                              name=\"owner\"\n                              type=\"radio\"\n                              checked={selectedUserType === 'owner'}\n                          />\n                          <span className=\"form-check-sign\" />\n                          Owner\n                        </Label>\n                      </FormGroup>\n\n                      <FormGroup check inline className=\"form-check-radio\">\n                        <Label check>\n                          <Input\n                              defaultValue=\"option1\"\n                              id=\"exampleRadios3\"\n                              name=\"secondAttachedPerson\"\n                              type=\"radio\"\n                              checked={selectedUserType === 'secondAttachedPerson'}\n                          />\n                          <span className=\"form-check-sign\" />\n                          Second Attached Person\n                        </Label>\n                      </FormGroup>\n                    </Col>\n                  </Row>\n                  </Form>\n                </div>\n\n              </CardHeader>\n\n              {cardLoading ? (\n                <div>Loading...</div>\n              ) : (\n                <>\n                  <CardBody>\n                    <Table>\n                      <thead className=\"text-primary\">\n                        <tr>\n                          <th className=\"text-center\">ID</th>\n                          <th>Name</th>\n                          <th>SURNAME</th>\n                          <th className=\"text-left\">CARD TYPE</th>\n                          <th className=\"text-left\">PIN</th>\n                          <th className=\"text-left\">EMAIL</th>\n                          <th className=\"text-left\">CREATION DATE</th>\n                          <th className=\"text-right\">Actions</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {content.map(\n                          ({\n                            pin,\n                            code,\n                            creationDate,\n                              ...userData\n                           }) => {\n                            return (\n                              <tr\n                                style={{ cursor: \"pointer\" }}\n                                className=\"btn-round\"\n                                onClick={e =>  {\n\n                                  props.history.push(`/admin/detail/?cardId=${pin}`)\n                                }}\n                              >\n                                <td className=\"text-center\">\n                                  <div className=\"photo\">{userData[selectedUserType].id}</div>\n                                </td>\n                                <td>{userData[selectedUserType].name}</td>\n\n                                <td>{userData[selectedUserType].surname}</td>\n\n                                <td>{code.type}</td>\n\n                                <td>{code.pin}</td>\n\n                                <td>{new Date(creationDate).toDateString()}</td>\n                                <td>{userData[selectedUserType].email}</td>\n\n                                <td className=\"text-right\">\n                                  <Button\n                                    className=\"btn-link btn-icon btn-neutral\"\n                                    color=\"success\"\n                                    id=\"tooltip967557276\"\n                                    size=\"sm\"\n                                    onClick={(row) => {\n                                      row.stopPropagation()\n                                      const { owner, firstAttachedPerson, secondAttachedPerson } = userData;\n                                      setSelectedRow(\n                                          {\n                                            owner,\n                                            firstAttachedPerson,\n                                            secondAttachedPerson,\n                                            pin: code.pin\n                                          })\n                                      handleIsOpenModal('editModal')\n                                    }}\n                                  >\n                                    <i className=\"tim-icons icon-pencil\" />\n                                  </Button>\n                                  <UncontrolledTooltip\n                                    delay={0}\n                                    target=\"tooltip967557276\"\n                                  >\n                                    Edit Card\n                                  </UncontrolledTooltip>\n                                  {/*<Button*/}\n                                  {/*  className=\"btn-link btn-neutral\"*/}\n                                  {/*  color=\"danger\"*/}\n                                  {/*  id=\"tooltip467555755\"*/}\n                                  {/*  size=\"sm\"*/}\n                                  {/*  onClick={() => openRemoveConfirmModal()}*/}\n                                  {/*>*/}\n                                  {/*  <i className=\"tim-icons icon-simple-remove\" />*/}\n                                  {/*</Button>*/}\n                                  {/*<UncontrolledTooltip*/}\n                                  {/*  delay={0}*/}\n                                  {/*  target=\"tooltip467555755\"*/}\n                                  {/*>*/}\n                                  {/*  Tooltip on top*/}\n                                  {/*</UncontrolledTooltip>*/}\n                                </td>\n                              </tr>\n                            );\n                          }\n                        )}\n                      </tbody>\n                    </Table>\n                  </CardBody>\n                </>\n              )}\n              <Row>\n                <Col>\n                  <Pagination>\n                      <Button\n                          color=\"info\"\n                          size=\"sm\"\n                          disabled={page === 1}\n                          onClick={(e) => {\n                            handleChangePagination('prev')\n                            e.preventDefault()\n                          }}\n\n                      >\n                           <span aria-hidden={true}>\n                          <i\n                              aria-hidden={true}\n                              className=\"tim-icons icon-double-left\"\n                          />\n                        </span>\n                      </Button>\n\n                    <span className={'pagination-info'}>\n                      page <b> {page} </b>  of <b> {data.total_pages} </b>\n                    </span>\n\n                    <Button\n                        color=\"info\"\n                        size=\"sm\"\n                        disabled={page === data.total_pages}\n                        onClick={(e) => {\n                          handleChangePagination('next')\n                          e.preventDefault()\n                        }}\n\n                    >\n                        <span aria-hidden={true}>\n                          <i\n                              aria-hidden={true}\n                              className=\"tim-icons icon-double-right\"\n                          />\n                        </span>\n                    </Button>\n\n                  </Pagination>\n                </Col>\n\n                <Col lg=\"2\" md=\"3\" sm=\"3\">\n                  <Select\n                    className=\"react-select info mr-2\"\n                    classNamePrefix=\"react-select\"\n                    name=\"singleSelect\"\n                    onChange={(data) => {\n                      handleChangePageSize(data.value)\n                    }}\n                    options={[\n                      {\n                        value: \"\",\n                        label: \"Select Table\",\n                        isDisabled: true,\n                      },\n                      { value: \"5\", label: \"5\" },\n                      { value: \"10\", label: \"10\" },\n                      { value: \"25\", label: \"25\" },\n                      { value: \"50\", label: \"50\" },\n                    ]}\n                    placeholder=\"Single Select\"\n                  />\n                </Col>\n              </Row>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    </>\n  );\n};\n\nexport default withRouter(ExtendedTables);"]},"metadata":{},"sourceType":"module"}